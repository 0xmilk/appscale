<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: DjinnJobData</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>

</head>
<body class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./lib/djinn_job_data_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/djinn_job_data.rb">lib/djinn_job_data.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-deserialize">::deserialize</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-add_roles">#add_roles</a></li>
          
          <li><a href="#method-i-extend_time">#extend_time</a></li>
          
          <li><a href="#method-i-method_missing">#method_missing</a></li>
          
          <li><a href="#method-i-remove_roles">#remove_roles</a></li>
          
          <li><a href="#method-i-serialize">#serialize</a></li>
          
          <li><a href="#method-i-set_roles">#set_roles</a></li>
          
          <li><a href="#method-i-set_time_info">#set_time_info</a></li>
          
          <li><a href="#method-i-should_destroy-3F">#should_destroy?</a></li>
          
          <li><a href="#method-i-should_extend-3F">#should_extend?</a></li>
          
          <li><a href="#method-i-to_hash">#to_hash</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./AppControllerClient.html">AppControllerClient</a></li>
        
          <li><a href="./BadConfigurationException.html">BadConfigurationException</a></li>
        
          <li><a href="./BlobServer.html">BlobServer</a></li>
        
          <li><a href="./Collectd.html">Collectd</a></li>
        
          <li><a href="./CronHelper.html">CronHelper</a></li>
        
          <li><a href="./Datastore.html">Datastore</a></li>
        
          <li><a href="./DatastoreFactory.html">DatastoreFactory</a></li>
        
          <li><a href="./DatastoreRepo.html">DatastoreRepo</a></li>
        
          <li><a href="./DatastoreRepoOnAppEngine.html">DatastoreRepoOnAppEngine</a></li>
        
          <li><a href="./DatastoreRepoOnAppScale.html">DatastoreRepoOnAppScale</a></li>
        
          <li><a href="./DatastoreS3.html">DatastoreS3</a></li>
        
          <li><a href="./Djinn.html">Djinn</a></li>
        
          <li><a href="./DjinnJobData.html">DjinnJobData</a></li>
        
          <li><a href="./DjinnServer.html">DjinnServer</a></li>
        
          <li><a href="./Ejabberd.html">Ejabberd</a></li>
        
          <li><a href="./EngineFactory.html">EngineFactory</a></li>
        
          <li><a href="./FailedZooKeeperOperationException.html">FailedZooKeeperOperationException</a></li>
        
          <li><a href="./GodInterface.html">GodInterface</a></li>
        
          <li><a href="./GoogleAppEnginePullQueue.html">GoogleAppEnginePullQueue</a></li>
        
          <li><a href="./GoogleAppEnginePushQueue.html">GoogleAppEnginePushQueue</a></li>
        
          <li><a href="./HAProxy.html">HAProxy</a></li>
        
          <li><a href="./HelperFunctions.html">HelperFunctions</a></li>
        
          <li><a href="./JSONClient.html">JSONClient</a></li>
        
          <li><a href="./LoadBalancer.html">LoadBalancer</a></li>
        
          <li><a href="./Monitoring.html">Monitoring</a></li>
        
          <li><a href="./NeptuneJobData.html">NeptuneJobData</a></li>
        
          <li><a href="./Nginx.html">Nginx</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
          <li><a href="./PbServer.html">PbServer</a></li>
        
          <li><a href="./QueueFactory.html">QueueFactory</a></li>
        
          <li><a href="./RabbitMQ.html">RabbitMQ</a></li>
        
          <li><a href="./Repo.html">Repo</a></li>
        
          <li><a href="./TaskEngine.html">TaskEngine</a></li>
        
          <li><a href="./TaskEngineAppScale.html">TaskEngineAppScale</a></li>
        
          <li><a href="./TaskEngineGoogleAppEngine.html">TaskEngineGoogleAppEngine</a></li>
        
          <li><a href="./TaskQueue.html">TaskQueue</a></li>
        
          <li><a href="./TaskQueueAzureQueue.html">TaskQueueAzureQueue</a></li>
        
          <li><a href="./TaskQueueGoogleAppEngine.html">TaskQueueGoogleAppEngine</a></li>
        
          <li><a href="./TaskQueueRabbitMQ.html">TaskQueueRabbitMQ</a></li>
        
          <li><a href="./TaskQueueSQS.html">TaskQueueSQS</a></li>
        
          <li><a href="./UserAppClient.html">UserAppClient</a></li>
        
          <li><a href="./ZKInterface.html">ZKInterface</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">DjinnJobData</h1>

    <div id="description">
      
<p>A class that represents a single node running in AppScale. It provides
methods to easily see the IP address of a node, how to access it, and what
roles (jobs) a node is currently running. If running in a cloud
infrastructure, it also contains info about when we spawned the node
(helpful for optimizing costs, which may charge on an hourly basis).</p>

    </div>

    <!-- Constants -->
    

    <!-- Attributes -->
    
    <div id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="public_ip-attribute-method" class="method-detail">
        <a name="public_ip"></a>
        
        <a name="public_ip="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">public_ip</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="private_ip-attribute-method" class="method-detail">
        <a name="private_ip"></a>
        
        <a name="private_ip="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">private_ip</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="jobs-attribute-method" class="method-detail">
        <a name="jobs"></a>
        
        <a name="jobs="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">jobs</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="instance_id-attribute-method" class="method-detail">
        <a name="instance_id"></a>
        
        <a name="instance_id="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">instance_id</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="cloud-attribute-method" class="method-detail">
        <a name="cloud"></a>
        
        <a name="cloud="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">cloud</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="ssh_key-attribute-method" class="method-detail">
        <a name="ssh_key"></a>
        
        <a name="ssh_key="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ssh_key</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="creation_time-attribute-method" class="method-detail">
        <a name="creation_time"></a>
        
        <a name="creation_time="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">creation_time</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="destruction_time-attribute-method" class="method-detail">
        <a name="destruction_time"></a>
        
        <a name="destruction_time="></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">destruction_time</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </div>
    

    <!-- Methods -->
    
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="add_roles-method" class="method-detail ">
        <a name="method-i-add_roles"></a>

        
        <div class="method-heading">
          <span class="method-name">add_roles</span><span
            class="method-args">(roles)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="add_roles-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 64</span>
def add_roles(roles)
  new_jobs = roles.split(<span class="ruby-string">&quot;:&quot;</span>)
  <span class="ruby-ivar">@jobs</span> = (<span class="ruby-ivar">@jobs</span> + new_jobs).uniq
  <span class="ruby-ivar">@jobs</span>.delete(<span class="ruby-string">&quot;open&quot;</span>)
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="extend_time-method" class="method-detail ">
        <a name="method-i-extend_time"></a>

        
        <div class="method-heading">
          <span class="method-name">extend_time</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="extend_time-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 162</span>
def extend_time
  return if <span class="ruby-ivar">@creation_time</span>.nil? or <span class="ruby-ivar">@destruction_time</span>.nil?
  <span class="ruby-ivar">@destruction_time</span> += <span class="ruby-constant">ONE_HOUR</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method_missing-method" class="method-detail ">
        <a name="method-i-method_missing"></a>

        
        <div class="method-heading">
          <span class="method-name">method_missing</span><span
            class="method-args">(id, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><a href="DjinnJobData.html#method-i-method_missing">method_missing</a>:
will intercept calls to is_load_balancer?, is_appengine? and so on, without
having all these methods to copy pasta as of writing this only the two
named methods are in use TODO: remove this and place dynamic method adds in
initialize</p>
          

          
          <div class="method-source-code"
            id="method_missing-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 172</span>
def method_missing(id, *args, &amp;block)
  if id.to_s =~ <span class="ruby-regexp">/is_(.*)\?/</span>
    if <span class="ruby-ivar">@jobs</span>.include?($1)
      return true
    else
      return false
    end
  end
  super
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="remove_roles-method" class="method-detail ">
        <a name="method-i-remove_roles"></a>

        
        <div class="method-heading">
          <span class="method-name">remove_roles</span><span
            class="method-args">(roles)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="remove_roles-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 71</span>
def remove_roles(roles)
  new_jobs = roles.split(<span class="ruby-string">&quot;:&quot;</span>)
  <span class="ruby-ivar">@jobs</span> = (<span class="ruby-ivar">@jobs</span> - new_jobs)
  <span class="ruby-ivar">@jobs</span> = [<span class="ruby-string">&quot;open&quot;</span>] if <span class="ruby-ivar">@jobs</span>.empty?
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="serialize-method" class="method-detail ">
        <a name="method-i-serialize"></a>

        
        <div class="method-heading">
          <span class="method-name">serialize</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>not the best name for this but basically correct</p>
          

          
          <div class="method-source-code"
            id="serialize-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 84</span>
def serialize
  keyname = <span class="ruby-ivar">@ssh_key</span>.split(<span class="ruby-string">&quot;/&quot;</span>)[-1]
  serialized = &quot;#{@public_ip}:#{@private_ip}:#{@jobs.join(':')}:#{@instance_id}:#{@cloud}:#{keyname}&quot;
  <span class="ruby-constant">Djinn</span>.log_debug(&quot;Serialized current node to #{serialized}&quot;)
  return serialized
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="set_roles-method" class="method-detail ">
        <a name="method-i-set_roles"></a>

        
        <div class="method-heading">
          <span class="method-name">set_roles</span><span
            class="method-args">(roles)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="set_roles-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 78</span>
def set_roles(roles)
  <span class="ruby-ivar">@jobs</span> = roles.split(<span class="ruby-string">&quot;:&quot;</span>)
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="set_time_info-method" class="method-detail ">
        <a name="method-i-set_time_info"></a>

        
        <div class="method-heading">
          <span class="method-name">set_time_info</span><span
            class="method-args">(creation_time, destruction_time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="set_time_info-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 135</span>
def set_time_info(creation_time, destruction_time)
  <span class="ruby-ivar">@creation_time</span> = creation_time
  <span class="ruby-ivar">@destruction_time</span> = destruction_time
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="should_destroy-3F-method" class="method-detail ">
        <a name="method-i-should_destroy-3F"></a>

        
        <div class="method-heading">
          <span class="method-name">should_destroy?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="should_destroy-3F-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 141</span>
def should_destroy?
  return false if <span class="ruby-ivar">@creation_time</span>.nil? or <span class="ruby-ivar">@destruction_time</span>.nil?
  if <span class="ruby-constant">Time</span>.now &gt; <span class="ruby-ivar">@destruction_time</span>
    return true
  else
    return false
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="should_extend-3F-method" class="method-detail ">
        <a name="method-i-should_extend-3F"></a>

        
        <div class="method-heading">
          <span class="method-name">should_extend?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="should_extend-3F-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 151</span>
def should_extend?
  return false if <span class="ruby-ivar">@creation_time</span>.nil? or <span class="ruby-ivar">@destruction_time</span>.nil?
  <span class="ruby-comment"># if we are about to kill the VM, don't do it if it's being used</span>
  if should_destroy? and !<span class="ruby-ivar">@jobs</span>.include?(<span class="ruby-string">&quot;open&quot;</span>)
    return true
  else
    return false
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="to_hash-method" class="method-detail ">
        <a name="method-i-to_hash"></a>

        
        <div class="method-heading">
          <span class="method-name">to_hash</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Produces a Hash that contains all the information contained in this object.</p>
          

          
          <div class="method-source-code"
            id="to_hash-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 104</span>
def to_hash
  return {
    <span class="ruby-string">'public_ip'</span> =&gt; <span class="ruby-ivar">@public_ip</span>,
    <span class="ruby-string">'private_ip'</span> =&gt; <span class="ruby-ivar">@private_ip</span>,
    <span class="ruby-string">'jobs'</span> =&gt; <span class="ruby-ivar">@jobs</span>,
    <span class="ruby-string">'instance_id'</span> =&gt; <span class="ruby-ivar">@instance_id</span>,
    <span class="ruby-string">'cloud'</span> =&gt; <span class="ruby-ivar">@cloud</span>,
    <span class="ruby-string">'ssh_key'</span> =&gt; <span class="ruby-ivar">@ssh_key</span>,
    <span class="ruby-string">'creation_time'</span> =&gt; <span class="ruby-ivar">@creation_time</span>,
    <span class="ruby-string">'destruction_time'</span> =&gt; <span class="ruby-ivar">@destruction_time</span>
  }
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="to_s-method" class="method-detail ">
        <a name="method-i-to_s"></a>

        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="to_s-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 118</span>
def to_s
  if <span class="ruby-ivar">@jobs</span>.empty?
    jobs = <span class="ruby-string">&quot;not doing anything&quot;</span>
  else
    jobs = <span class="ruby-ivar">@jobs</span>.join(<span class="ruby-string">', '</span>)
  end

  
  status = &quot;Node in cloud #{@cloud} with instance id #{@instance_id}&quot; +
    &quot; responds to ssh key #{@ssh_key}, has pub IP #{@public_ip},&quot; +
    &quot; priv IP #{@private_ip}, and is currently #{@jobs.join(', ')}.&quot; +
    &quot; It was created at #{@creation_time} and should be destroyed at &quot; +
    &quot; #{@destruction_time}.&quot;
  return status  
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </div>
  
    <div id="public-class-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="deserialize-method" class="method-detail ">
        <a name="method-c-deserialize"></a>

        
        <div class="method-heading">
          <span class="method-name">deserialize</span><span
            class="method-args">(serialized)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="deserialize-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 92</span>
def self.deserialize(serialized)
  <span class="ruby-constant">Djinn</span>.log_debug(&quot;serialized is [#{serialized}]&quot;)
  split_data = serialized.split(<span class="ruby-string">&quot;:&quot;</span>)
  roles = split_data[0..-2].join(<span class="ruby-string">&quot;:&quot;</span>)
  keyname = split_data[-1].split(<span class="ruby-string">&quot;.&quot;</span>)[0]
  <span class="ruby-constant">Djinn</span>.log_debug(&quot;Current roles are [#{roles}] and keyname is [#{keyname}]&quot;)
  return <span class="ruby-constant">DjinnJobData</span>.new(roles, keyname)
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="new-method" class="method-detail ">
        <a name="method-c-new"></a>

        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(roles, keyname)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="new-source">
<pre>
<span class="ruby-comment"># File lib/djinn_job_data.rb, line 22</span>
def initialize(roles, keyname)
  <span class="ruby-comment"># format: &quot;publicIP:privateIP:load_balancer:appengine:table-master:table-slave:instance_id:cloud&quot;</span>

  if roles.class != <span class="ruby-constant">String</span>
    abort(&quot;Roles must be a string, not a #{roles.class} containing #{roles}&quot;)
  end

  split_roles = roles.split(<span class="ruby-string">&quot;:&quot;</span>)

  <span class="ruby-ivar">@public_ip</span> = split_roles[0]
  <span class="ruby-ivar">@private_ip</span> = split_roles[1]
  <span class="ruby-ivar">@jobs</span> = []
  <span class="ruby-ivar">@instance_id</span> = split_roles[-2]

  <span class="ruby-comment"># TODO: this is a bit hackey - would like to fix this someday</span>
  if split_roles[-1].include?(<span class="ruby-string">&quot;.key&quot;</span>)
    <span class="ruby-ivar">@cloud</span> = split_roles[-2]
  else
    <span class="ruby-ivar">@cloud</span> = split_roles[-1]
  end

  <span class="ruby-ivar">@ssh_key</span> = <span class="ruby-constant">File</span>.expand_path(&quot;/etc/appscale/keys/#{@cloud}/#{keyname}.key&quot;)
  <span class="ruby-ivar">@creation_time</span> = nil
  <span class="ruby-ivar">@destruction_time</span> = nil  <span class="ruby-comment"># best variable name EVER</span>

  appscale_jobs = [<span class="ruby-string">&quot;load_balancer&quot;</span>, <span class="ruby-string">&quot;shadow&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;db_master&quot;</span>, <span class="ruby-string">&quot;db_slave&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;zookeeper&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;login&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;memcache&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;open&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;rabbitmq_master&quot;</span>, <span class="ruby-string">&quot;rabbitmq_slave&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;babel_master&quot;</span>, <span class="ruby-string">&quot;babel_slave&quot;</span>]
  appscale_jobs += [<span class="ruby-string">&quot;appengine&quot;</span>] <span class="ruby-comment"># appengine must go last</span>
  
      
  appscale_jobs.each { |job|
    <span class="ruby-ivar">@jobs</span> &lt;&lt; job if roles.include?(job)
  }
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </div>
  

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

